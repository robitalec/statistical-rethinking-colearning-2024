---
title: "Homework 03"
author: "Alec L. Robitaille"
date: "2024-02-28"
---

## Setup

```{r}
#| include: false
targets::tar_source('R')
```


```{r}
#| eval: false
targets::tar_source('R')
```


## Question 1

> The first two problems are based on the same data. The data in data(foxes) are
116 foxes from 30 different urban groups in England. These fox groups are like
street gangs. Group size (groupsize) varies from 2 to 8 individuals. Each group
maintains its own (almost exclusive) urban territory. Some territories are
larger than others. The area variable encodes this information. Some territories
also have more avgfood than others. And food influences the weight of each fox.
Assume [the DAG below], where F is avgfood, G is groupsize, A is area, and W is
weight. Use the backdoor criterion and estimate the total causal influence of A
on F. What effect would increasing the area of a territory have on the amount of
food inside it?


### Estimand 

What is the total causal influence of A on F? What effect would increasing the
area of a territory have on the amount of food inside it?


### Scientific model

```{r}
#| echo: false
coords <- data.frame(
	name = c('F', 'G', 'A', 'W'),
	x =    c(1,    2,   1.5, 1.5),
	y =    c(0,    0,   1, -1)
)
```

```{r}
dag <- dagify(
	G ~ F,
	F ~ A,
	W ~ F + G,
  coords = coords,
	exposure = 'A',
	outcome = 'F'
)
ggdag(dag, seed = 2, layout = 'auto') + theme_dag()
```


#### Backdoor criterion

1. Identify all paths connecting treatment to the outcome, regardless of the
direction of arrows

- `A -> F`

2. Identify paths with arrows entering the treatment (backdoor). These are 
non-casual paths, because causal paths exit the treatment (frontdoor). 

- ~~`A -> F`~~


3. Find adjustment sets that close all backdoor/non-causal paths. 

There are no backdoor paths entering the treatment (A). The adjustment set is empty. 

```{r}
adjustmentSets(dag, effect = 'total')
```

